<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Babylon Controls â€“ Single File</title>

  <script src="https://cdn.babylonjs.com/babylon.js"></script>

  <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0;
      overflow: hidden;
      background: #000;
    }
    #renderCanvas {
      width: 100%;
      height: 100%;
      touch-action: none;
    }
  </style>
</head>
<body>

<canvas id="renderCanvas"></canvas>

<script>
  const canvas = document.getElementById("renderCanvas");
  const engine = new BABYLON.Engine(canvas, true);

  const createScene = () => {
    const scene = new BABYLON.Scene(engine);

    /* -------- LIGHT -------- */
    new BABYLON.HemisphericLight(
      "light",
      new BABYLON.Vector3(0, 1, 0),
      scene
    );

    /* -------- CAMERA (FPS) -------- */
    const camera = new BABYLON.UniversalCamera(
      "camera",
      new BABYLON.Vector3(0, 1.6, -5),
      scene
    );

    scene.activeCamera = camera;

    camera.attachControl(canvas, true);
    camera.speed = 0.25;
    camera.angularSensibility = 4000;

    /* -------- GRAVITY + COLLISIONS -------- */
    scene.gravity = new BABYLON.Vector3(0, -9.81, 0);
    scene.collisionsEnabled = true;

    camera.applyGravity = true;
    camera.checkCollisions = true;
    camera.ellipsoid = new BABYLON.Vector3(0.5, 0.9, 0.5);

    /* -------- GROUND -------- */
    const ground = BABYLON.MeshBuilder.CreateGround(
      "ground",
      { width: 50, height: 50 },
      scene
    );
    ground.checkCollisions = true;

    /* -------- BOX TO TEST COLLISIONS -------- */
    const box = BABYLON.MeshBuilder.CreateBox("box", {}, scene);
    box.position.y = 1;
    box.checkCollisions = true;

    return scene;
  };

  const scene = createScene();

  engine.runRenderLoop(() => {
    scene.render();
  });

  window.addEventListener("resize", () => {
    engine.resize();
  });
</script>

</body>
</html>
